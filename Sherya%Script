local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local window = library:AddWindow("Sherya Script", {
    main_color = Color3.fromRGB(200, 0, 255),
    min_size = Vector2.new(660, 660),
    can_resize = false,
})

local mainTab = window:AddTab("Main")
local miscTab = window:AddTab("Misc")
local killerTab = window:AddTab("Killer")
local playersTab = window:AddTab("Players")
local creaditsTab = window:AddTab("Credits")

-- Variables
local autoEquipEnabled = false
local autoClickEnabled = false
local characterConnection
local autoClickLoop = false

-- Equipar herramienta "Golpe"
local function equipGolpeTool()
    local backpack = player:WaitForChild("Backpack")
    local character = player.Character or player.CharacterAdded:Wait()
    local tool = backpack:FindFirstChild("Golpe")
    if tool then
        tool.Parent = character
    end
end

-- Quitar herramienta
local function unequipGolpeTool()
    local character = player.Character or player.CharacterAdded:Wait()
    local tool = character:FindFirstChild("Golpe")
    if tool then
        tool.Parent = player.Backpack
    end
end

-- AutoGolpe con delay (interno)
local function startAutoGolpe()
    autoClickLoop = true
    task.spawn(function()
        while autoClickLoop do
            if UserInputService:GetFocusedTextBox() then
                task.wait(0.5) -- espera mientras escribes
            else
                local character = player.Character
                if character then
                    local tool = character:FindFirstChild("Golpe")
                    if tool and tool:IsA("Tool") then
                        tool:Activate()
                    end
                end
                task.wait(0.3) -- tiempo entre golpes (aj√∫stalo si es necesario)
            end
        end
    end)
end

-- Detener autoGolpe
local function stopAutoGolpe()
    autoClickLoop = false
end

-- Al morir
local function onCharacterAdded()
    if autoEquipEnabled then
        task.wait(0.5)
        equipGolpeTool()
    end
end

-- Switch final
mainTab:AddSwitch("Auto Golpe + Equip", function(enabled)
    autoEquipEnabled = enabled
    autoClickEnabled = enabled

    if enabled then
        equipGolpeTool()
        startAutoGolpe()
        characterConnection = player.CharacterAdded:Connect(onCharacterAdded)
        print("AutoGolpe activado")
    else
        unequipGolpeTool()
        stopAutoGolpe()
        if characterConnection then
            characterConnection:Disconnect()
            characterConnection = nil
        end
        print("AutoGolpe desactivado")
    end
end)
